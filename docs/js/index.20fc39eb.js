(function(e){function t(t){for(var o,l,a=t[0],i=t[1],d=t[2],s=0,f=[];s<a.length;s++)l=a[s],Object.prototype.hasOwnProperty.call(c,l)&&c[l]&&f.push(c[l][0]),c[l]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);u&&u(t);while(f.length)f.shift()();return r.push.apply(r,d||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,a=1;a<n.length;a++){var i=n[a];0!==c[i]&&(o=!1)}o&&(r.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},c={index:0},r=[];function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],i=a.push.bind(a);a.push=t,a=a.slice();for(var d=0;d<a.length;d++)t(a[d]);var u=i;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("aef7")},aef7:function(e,t,n){"use strict";n.r(t);var o=n("7a23");const c=Object(o["e"])("fieldset",null,[Object(o["e"])("legend",null," 普通 a 标签下载：不支持跨域重命名；甚至直接打开预览而不是下载 "),Object(o["e"])("a",{download:"image.png",href:"https://dummyimage.com/300x300/92cbff/fff"},"图片"),Object(o["d"])(" ｜ "),Object(o["e"])("a",{download:"t.json",href:"//httpbin.org/get"},"JSON"),Object(o["d"])(" ｜ "),Object(o["e"])("a",{download:"aa.pdf",href:"https://wdzg-file-pre-cdn.mockuai.com/picture/open_file202109091739144850000165.6版本).pdf"}," PDF "),Object(o["d"])(" ｜ "),Object(o["e"])("a",{download:"aa.xlsx",href:"https://wdzg-file-pre-cdn.mockuai.com/picture/open_file202109131633158710000670.xlsx"}," 表格 ")],-1),r=Object(o["e"])("legend",null,"使用此方法下载",-1),l=Object(o["d"])(" ｜ "),a=Object(o["d"])("图片"),i=Object(o["d"])(" ｜ "),d=Object(o["d"])("PDF"),u=Object(o["d"])(" ｜ "),s=Object(o["d"])("JSON"),f=Object(o["d"])(" ｜ "),p=Object(o["d"])("表格"),b=Object(o["d"])(" ｜ "),O=Object(o["d"])("下载此代码"),j=Object(o["e"])("legend",null,"随便下载什么",-1);function h(e,t,n,h,m,w){const g=Object(o["k"])("Download");return Object(o["h"])(),Object(o["c"])(o["a"],null,[c,Object(o["e"])("fieldset",null,[r,Object(o["e"])("button",{onClick:t[1]||(t[1]=(...t)=>e.onDownloadHTML&&e.onDownloadHTML(...t))},"HTML"),l,Object(o["e"])(g,{href:"https://dummyimage.com/300x300/92cbff/fff"},{default:Object(o["n"])(()=>[a]),_:1}),i,Object(o["e"])(g,{href:"https://wdzg-file-pre-cdn.mockuai.com/picture/open_file202109091739144850000165.6版本).pdf",download:"aa.pdf"},{default:Object(o["n"])(()=>[d]),_:1}),u,Object(o["e"])(g,{href:"//httpbin.org/get"},{default:Object(o["n"])(()=>[s]),_:1}),f,Object(o["e"])(g,{href:"https://wdzg-file-pre-cdn.mockuai.com/picture/open_file202109131633158710000670.xlsx",download:"aa.xlsx"},{default:Object(o["n"])(()=>[p]),_:1}),b,Object(o["e"])(g,{href:"https://raw.githubusercontent.com/bowencool/download-by-url/main/example/App.vue",download:"App.vue"},{default:Object(o["n"])(()=>[O]),_:1})]),Object(o["e"])("fieldset",null,[j,Object(o["o"])(Object(o["e"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=t=>e.url=t),placeholder:"自定义URL"},null,512),[[o["m"],e.url]]),Object(o["e"])("button",{onClick:t[3]||(t[3]=(...t)=>e.customDownload&&e.customDownload(...t))},"下载")])],64)}var m=n("cc1d"),w=n.n(m);function g(e,t){const n=document.createElement("a");n.href=e,t&&(n.download=t),n.style.position="fixed",n.style.left="-9999px",document.body.appendChild(n),n.click(),n.remove()}function y(e,t=!1){return new Promise((n,o)=>{const c=new XMLHttpRequest;c.open("GET",e,!0),c.responseType="blob",c.onload=()=>{let o="",r=null;if(t){const t=c.getResponseHeader("content-disposition");if(t&&t.match(/filename\*?=(utf-8'')?("?)([^"]*)\2$/))o=decodeURIComponent(RegExp.$3);else{let t;if(e instanceof URL?t=e:"string"===typeof e&&(e.startsWith("//")&&(e=`${window.location.protocol}${e}`),t=new URL(e)),!t)throw new Error("no url");const n=t.pathname.split("/");for(let e=n.length-1;e>=0;e--){const t=n[e];if(t&&"string"===typeof t){o=t;break}}if(o||(o=""+t.host),r=c.getResponseHeader("Content-Type"),r){const e=w.a.extension(r);o.endsWith("."+e)||(o=`${o}.${e}`)}}}const l=new Blob([c.response],{type:r||"application/octet-stream"});n({blob:l,filename:decodeURIComponent(o)})},c.onerror=o,c.send()})}function v(e,t){const n=window.URL.createObjectURL(e);g(n,t),window.URL.revokeObjectURL(n)}async function x(e,t){if("string"===typeof e&&e.startsWith("blob:"))return g(e);const{blob:n,filename:o}=await y(e,!t);return v(n,t||o)}function k(e,t,n,c,r,l){return Object(o["h"])(),Object(o["c"])(Object(o["l"])(e.tag),Object(o["g"])(e.$attrs,{onClick:e.onClick}),{default:Object(o["n"])(()=>[Object(o["j"])(e.$slots,"default")]),_:3},16,["onClick"])}var R=Object(o["f"])({name:"Download",emits:{success:null,error:null},props:{tag:{type:String,default:"a"},url:{type:[String,URL]},href:{type:[String,URL]},src:{type:[String,URL]},filename:{type:String},download:{type:String}},methods:{onClick(){const e=this.href||this.src||this.url;e?x(e,this.filename||this.download).then(()=>this.$emit("success")).catch((...e)=>this.$emit("error",...e)):console.warn("no url provide")}}});R.render=k;var _=R,L=Object(o["f"])({name:"App",components:{Download:_},setup(){const e=Object(o["i"])("https://cdn.mockuai.com/tms/template.xlsx");return{url:e,onDownloadHTML(){x(window.location.href)},customDownload(){x(e.value)}}}});L.render=h;var S=L;Object(o["b"])(S).mount(document.body)}});
//# sourceMappingURL=index.20fc39eb.js.map